{% extends 'base.html' %}

    <head>
        {% block styles %}
        <style>
            .article-container{
                padding: 4vh 8vw;
                width: 100vw;
            }
            .article-category {
                font-size: 1.25rem;
            }
            .article-title {
                font-size: 4rem;
                margin-top: 0px;
                margin-bottom: 0px;
            }
            .article-detail {
                font-size: 0.9rem;
            }
            .article-container > * {
                margin-top: 2px;
                margin-bottom: 0px;
            }
            button {
                margin-top: 5px;
            }
            .related-articles-container{
                display: flex;
                gap: 20px;
            }
            .comment-author {
                font-weight: bold;
            }
            .comment-entry-container {
                padding-left: 1rem;
            }
            .comment-detail {
                font-size: 0.75rem;
            }
            textarea {
                width: 60%; /* Or try 800px for fixed width */
            }
        </style>
        {% endblock %}
    </head>
    {% block content %}
    <div class="article-container">
        <a href="{% url 'wiki:index' %}">Go back to articles</a>
        <br><br>
        <p class="article-category">{{article.category}}</p>
        <h1 class="article-title">{{article.title}}</h1>
        <p class="article-detail">Author: </td><td>{{article.author}}</p>
        <p class="article-detail">Last Updated: {{article.updated_on}}</p>
        <p class="article-detail">Published: {{article.created_on}}</p>
        {% if userIsAuthor %}
            <a href="{{article.get_absolute_url}}edit"><button>Edit article</button></a>
        {% endif %}
        <br><br>
        <p>{{article.entry}}</p>
        <br><br>
        <h3>Read more {{article.category}}</h3>
        <div class="related-articles-container">
            {% for relatedArticle in relatedArticles %}
                <a href="{{relatedArticle.get_absolute_url}}"><p>{{relatedArticle.title}}</p></a>
            {% endfor %}
        </div>
        <br>
        <h3>Comments</h3>
        {% if userIsAuthenticated %}
            <form method="post">
                {% csrf_token %}
                {{ commentForm.as_p }}
                <button type="submit">Submit</button>
            </form>
        {% endif %}
        <br>
        {% for comment in comments %}
            <p class="comment-author">{{comment.author}}</p>
            <p class="comment-detail">Created on: {{comment.created_on}}</p>
            <p class="comment-detail">Last updated: {{comment.updated_on}}</p>
            <div class="comment-entry-container">
                <p>{{comment.entry}}</p>
            </div>
        {% endfor %}
    </div>
    {% endblock %}